<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        var obj = {
            name: 'abc', //原始值
            age: 22, //原始值
            card: ['visa', 'master'], //引用值
            wife: { //引用值
                name: 'bcd', //原始值
                son: { //引用值
                    name: 'sss' //原始值
                }
            }
        }

        var obj1 = {

        }

        function deepCl(origin, target) {
            var target = target || {}, //没有目标元素就创建空对象
                toStr = Object.prototype.toString, //判断是十足还是对象
                arrStr = '[object Arrary]'; //数组
            // [object object] 对象
            for (var prop in origin) {
                if (origin.hasOwnProperty(prop)) { //排除原型上的属性
                    if (origin[prop] != "null" && typeof(origin[prop]) == 'object') { //判断是否是  引用值
                        target[prop] = toStr.call(origin[prop]) == arrStr ? [] : {}; //是引用值中的数组就创建一个空数组放进去，是对象就创建一个空对象放进去
                        deepCl(origin[prop], target[prop]); //递归
                    } else { //是原始值直接互相赋值
                        target[prop] = origin[prop];
                    }
                }
            }
            return target; //没传target，需要return回去
        }

        deepCl(obj, obj1)
    </script>
</body>

</html>